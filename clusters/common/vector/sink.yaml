transforms:
  drop_namespaces:
    type: filter
    inputs:
      - k8s
    condition: >-
      exists(.kubernetes.namespace_name) && .kubernetes.namespace_name == "openebs"

sinks:
  vlogs:
    inputs:
      - drop_namespaces
    type: elasticsearch
    endpoints:
      - http://victorialogs.monitoring/insert/elasticsearch/
    api_version: v8
    compression: gzip
    healthcheck:
      enabled: false
    query:
      _msg_field: message
      _time_field: timestamp
      _stream_fields: kubernetes.pod_namespace,kubernetes.pod_name
